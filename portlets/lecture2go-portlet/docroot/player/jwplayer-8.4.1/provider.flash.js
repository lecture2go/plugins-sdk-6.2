/*!
   JW Player version 8.4.1
   Copyright (c) 2018, JW Player, All Rights Reserved 
   This source code and its use and distribution is subject to the terms 
   and conditions of the applicable license agreement. 
   https://www.jwplayer.com/tos/
   This product includes portions of other software. For the full text of licenses, see
   https://ssl.p.jwpcdn.com/player/v/8.4.1/notice.txt
*/
(window.webpackJsonpjwplayer=window.webpackJsonpjwplayer||[]).push([[8],{119:function(t,e,n){"use strict";function r(t,e,n){if(!t)return"";var r=t.bitrate||t.bandwidth;return function(t,e){var n=null;if(e&&t){var r=Object.keys(t),a=parseFloat(e);r.length&&!isNaN(a)&&(n=t[function(t,e){var n=null,r=1/0,i=void 0;Array.isArray(t)&&t.forEach(function(t){(i=Math.abs(t-e))<r&&(n=t,r=i)});return n}(r,i(a))])}return n}(e,r)||t.label||function(t,e,n){if(!t&&!e)return"";var r=i(e)+" kbps",a=r;t&&(a=t+"p",e&&n&&(a+=" ("+r+")"));return a}(t.height,r,n)}function i(t){return Math.floor(t/1e3)}function a(t){return!!Array.isArray(t)&&t.some(function(t){var e=t.height||t.bitrate||t.bandwidth,n=this[e];return this[e]=1,n},{})}n.d(e,"a",function(){return r}),n.d(e,"c",function(){return i}),n.d(e,"b",function(){return a})},126:function(t,e,n){"use strict";n.r(e);var r=n(0),i=n(74),a=n(119),s=n(7),u=n(3),o=n(6),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l="#000000";function d(t,e,n){var r=document.createElement("param");r.setAttribute("name",e),r.setAttribute("value",n),t.appendChild(r)}function h(t,e,n){Object.defineProperty(t,e,{get:function(){return n}})}function f(t,e,n,r){var i=void 0,a=!0;if(r=r||"opaque",s.Browser.msie){var u=document.createElement("div");e.appendChild(u),u.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%" id="'+n+'" name="'+n+'" tabindex="0"><param name="movie" value="'+t+'"><param name="allowfullscreen" value="true"><param name="allowscriptaccess" value="always"><param name="wmode" value="'+r+'"><param name="bgcolor" value="'+l+'"><param name="menu" value="false"></object>';for(var f=e.getElementsByTagName("object"),T=f.length;T--;)f[T].id===n&&(i=f[T])}else(i=document.createElement("object")).setAttribute("type","application/x-shockwave-flash"),i.setAttribute("data",t),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("bgcolor",l),i.setAttribute("id",n),i.setAttribute("name",n),d(i,"allowfullscreen","true"),d(i,"allowscriptaccess","always"),d(i,"wmode",r),d(i,"menu","false"),e.appendChild(i,e);i.className="jw-swf jw-reset",i.style.display="block",i.style.position="absolute",i.style.left=0,i.style.right=0,i.style.top=0,i.style.bottom=0,s.Browser.ie&&"PointerEvent"in window&&(i.style.pointerEvents="none");var v=-1;h(i,"on",o.a.on),h(i,"once",o.a.once),h(i,"_eventQueue",[]),h(i,"off",function(){var t=Array.prototype.slice.call(arguments);return t.length||(i._eventQueue.length=0,clearTimeout(v)),t.length?o.a.off.apply(i,t):(g={},this._events=g,this)}),h(i,"trigger",function(t,e){var n=i._eventQueue;n.push({type:t,json:e}),v>-1||(v=setTimeout(function(){var t=n.length;for(v=-1;t--;){var e=n.shift();if(e.json){var r=JSON.parse(decodeURIComponent(e.json));o.a.trigger.call(i,e.type,r)}else o.a.trigger.call(i,e.type)}}))});var g={};return Object.defineProperty(i,"_events",{get:function(){return g},set:function(t){g=t}}),h(i,"triggerFlash",function(t){if("setupCommandQueue"===t&&(a=!1),"setup"!==t&&a||!i.__externalCall){for(var e=i.__commandQueue,n=e.length;n--;)e[n][0]===t&&e.splice(n,1);return e.push(Array.prototype.slice.call(arguments)),i}var r=Array.prototype.slice.call(arguments,1);try{if(r.length){r.forEach(function(t){t&&"object"===(void 0===t?"undefined":c(t))&&Object.keys(t).forEach(function(e){var n,r,i;n=t[e],r=e,i=t,n instanceof window.HTMLElement&&delete i[r]})});var s=JSON.stringify(r);i.__externalCall(t,s)}else i.__externalCall(t)}catch(e){if(console.error(t,e),"setup"===t)return e.name="Failed to setup flash",e}return i}),h(i,"__commandQueue",[]),i}var T=n(52),v=n(71),g=n(1),k=0;function m(t,e){var n=void 0,c=void 0,l=null,d=-1,h=-1,m=null,b=-1,y=null,p=void 0,_=this,x=function(){return c&&c.__ready},w=function(){c&&c.triggerFlash.apply(c,arguments)};function C(){d=setTimeout(function(){o.a.trigger.call(_,"flashBlocked",{value:!0})},4e3),c.once("embedded",function(){j(),o.a.trigger.call(_,"flashBlocked",{value:!1})},_)}function B(){j(),C()}function j(){clearTimeout(d),window.removeEventListener("focus",B)}function O(t,e){for(var n=0;n<t.length;n++)if(t[n].index===e)return n}Object(r.j)(this,o.a,v.a,{preload:function(t){t.preload&&"none"!==t.preload&&!e.autostart&&(l=t)},load:function(t){l=t,this.setState(u.Ma),w("load",t),t.sources.length&&"hls"!==t.sources[0].type&&this.sendMediaType(t.sources)},play:function(){w("play")},pause:function(){w("pause"),this.setState(u.Na)},stop:function(){w("stop"),h=-1,l=null,this.clearTracks(),this.setState(u.La)},seek:function(t){w("seek",t)},volume:function(t){if(Object(r.v)(t)){var e=Math.min(Math.max(0,t),100);x()&&w("volume",e)}},mute:function(t){x()&&w("mute",t)},setState:function(){return T.a.setState.apply(this,arguments)},getSwfObject:function(n){var r=n.querySelector("object");return r?(r.off(null,null,this),r):f(e.flashplayer,n,t+"_swf_"+k++,e.wmode)},getContainer:function(){return n},setContainer:function(t){if(n!==t){n=t,c=this.getSwfObject(t),document.hasFocus()?C():window.addEventListener("focus",B),c.once("ready",function(){j();var t=Object(r.j)({},e),n=c.triggerFlash("setup",t);n===c?c.__ready=!0:this.trigger(u.F,new g.o(g.j,g.g,n)),l&&w("init",l),w("setupCommandQueue",c.__commandQueue),c.__commandQueue.length=0},this);var i=[u.O,u.P,"subtitlesTrackChanged","mediaType"],f=[u.C,u.Q],T=[u.D];c.on([u.H,u.I].join(" "),function(t){!function(t){for(var n=t.levels,r=0;r<n.length;r++){var i=n[r];i.index=r,"Auto"!==i.label&&(i.label=Object(a.a)(i,e.qualityLabels))}t.levels=m=function(t){return t.sort(function(t,e){return t.height&&e.height?e.height-t.height:e.bitrate-t.bitrate})}(t.levels),t.currentQuality=h=O(m,t.currentQuality)}(t),this.trigger(t.type,t)},this),c.on(u.f,function(t){b=t.currentTrack,y=t.tracks,this.trigger(t.type,t)},this),c.on(u.g,function(t){b=t.currentTrack,y=t.tracks,this.trigger(t.type,t)},this),c.on(u.Z,function(t){var e=t.newstate;e!==u.La&&this.setState(e)},this),c.on(f.join(" "),function(t){"Infinity"===t.duration&&(t.duration=1/0),t.currentTime=t.currentTime||t.position,this.trigger(t.type,t)},this),c.on(i.join(" "),function(t){this.trigger(t.type,t)},this),c.on(T.join(" "),function(t){this.trigger(t.type)},this),c.on(u.A,function(){this.trigger(u.E)},this),c.on(u.S,function(t){var e=0;m.length>1&&(e=O(m,t.level.index+1)),t.level=Object(r.j)(t.level,{index:e}),t.reason=t.reason||"api",this.trigger(u.S,t),this.trigger("providerFirstFrame",{})},this),c.on(u.Da,function(t){p=t.message,this.trigger(u.Da,t)},this),c.on(u.w,function(t){this.trigger(u.F,new g.o(g.k,g.e,t))},this),c.on(u.F,function(t){this.trigger(u.F,new g.o(g.k,g.f,t))},this),c.on("subtitlesTracks",function(t){this.addTextTracks(t.tracks)},this),c.on("subtitlesTrackData",function(t){this.addCuesToTrack(t)},this),c.on(u.J,function(t){t&&(t.metadata&&"textdata"===t.metadata.type?this.addCaptionsCue(t.metadata):this.trigger(t.type,t))},this),function(t){var e=document.createElement("a");e.href=t.flashplayer;var n=e.host===window.location.host;return s.Browser.chrome&&!n}(e)&&c.on("throttle",function(t){j();var e="resume"!==t.state;"resume"===t.state?(o.a.trigger.call(_,"flashThrottle",{value:e}),o.a.trigger.call(_,"flashBlocked",{value:e})):d=setTimeout(function(){o.a.trigger.call(_,"flashThrottle",{value:e}),o.a.trigger.call(_,"flashBlocked",{value:e})},250)},this)}},remove:function(){var t;h=-1,m=null,(t=c)&&t.parentNode&&(t.style.display="none",t.parentNode.removeChild(t),t=null)},setVisibility:function(t){t=!!t,n.style.opacity=t?1:0},resize:function(t,e,n){n&&w("stretch",n)},setControls:function(t){w("setControls",t)},setCurrentQuality:function(t){w("setCurrentQuality",m[t].index)},getCurrentQuality:function(){return h},setSubtitlesTrack:function(t){w("setSubtitlesTrack",t)},getName:function(){return p?{name:"flash_"+p}:{name:"flash"}},getQualityLevels:function(){return(m||l&&l.sources||[]).map(function(t){return Object(i.a)(t)})},getAudioTracks:function(){return y},getCurrentAudioTrack:function(){return b},setCurrentAudioTrack:function(t){w("setCurrentAudioTrack",t)},detachMedia:function(){this.pause()},destroy:function(){j(),this.remove(),c&&(c.off(),c=null),n=null,l=null,this.off()}})}var b=function(){};b.prototype=T.a,m.prototype=new b,m.getName=function(){return{name:"flash"}};e.default=m},58:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(2);function i(t){var e=[],n=(t=Object(r.h)(t)).split("\r\n\r\n");1===n.length&&(n=t.split("\n\n"));for(var i=0;i<n.length;i++)if("WEBVTT"!==n[i]){var s=a(n[i]);s.text&&e.push(s)}return e}function a(t){var e={},n=t.split("\r\n");1===n.length&&(n=t.split("\n"));var i=1;if(n[0].indexOf(" --\x3e ")>0&&(i=0),n.length>i+1&&n[i+1]){var a=n[i],s=a.indexOf(" --\x3e ");s>0&&(e.begin=Object(r.f)(a.substr(0,s)),e.end=Object(r.f)(a.substr(s+5)),e.text=n.slice(i+1).join("\r\n"))}return e}},59:function(t,e,n){"use strict";var r=window.VTTCue;function i(t){if("string"!=typeof t)return!1;return!!{start:!0,middle:!0,end:!0,left:!0,right:!0}[t.toLowerCase()]&&t.toLowerCase()}if(!r){(r=function(t,e,n){var r=this;r.hasBeenReset=!1;var a="",s=!1,u=t,o=e,c=n,l=null,d="",h=!0,f="auto",T="start",v="auto",g=100,k="middle";Object.defineProperty(r,"id",{enumerable:!0,get:function(){return a},set:function(t){a=""+t}}),Object.defineProperty(r,"pauseOnExit",{enumerable:!0,get:function(){return s},set:function(t){s=!!t}}),Object.defineProperty(r,"startTime",{enumerable:!0,get:function(){return u},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");u=t,this.hasBeenReset=!0}}),Object.defineProperty(r,"endTime",{enumerable:!0,get:function(){return o},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");o=t,this.hasBeenReset=!0}}),Object.defineProperty(r,"text",{enumerable:!0,get:function(){return c},set:function(t){c=""+t,this.hasBeenReset=!0}}),Object.defineProperty(r,"region",{enumerable:!0,get:function(){return l},set:function(t){l=t,this.hasBeenReset=!0}}),Object.defineProperty(r,"vertical",{enumerable:!0,get:function(){return d},set:function(t){var e=function(t){return"string"==typeof t&&!!{"":!0,lr:!0,rl:!0}[t.toLowerCase()]&&t.toLowerCase()}(t);if(!1===e)throw new SyntaxError("An invalid or illegal string was specified.");d=e,this.hasBeenReset=!0}}),Object.defineProperty(r,"snapToLines",{enumerable:!0,get:function(){return h},set:function(t){h=!!t,this.hasBeenReset=!0}}),Object.defineProperty(r,"line",{enumerable:!0,get:function(){return f},set:function(t){if("number"!=typeof t&&"auto"!==t)throw new SyntaxError("An invalid number or illegal string was specified.");f=t,this.hasBeenReset=!0}}),Object.defineProperty(r,"lineAlign",{enumerable:!0,get:function(){return T},set:function(t){var e=i(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");T=e,this.hasBeenReset=!0}}),Object.defineProperty(r,"position",{enumerable:!0,get:function(){return v},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");v=t,this.hasBeenReset=!0}}),Object.defineProperty(r,"size",{enumerable:!0,get:function(){return g},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");g=t,this.hasBeenReset=!0}}),Object.defineProperty(r,"align",{enumerable:!0,get:function(){return k},set:function(t){var e=i(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");k=e,this.hasBeenReset=!0}}),r.displayState=void 0}).prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)}}e.a=r},60:function(t,e,n){"use strict";var r=n(59),i=n(10),a=n(37),s=n(4),u=n(58),o=n(2);function c(t){t||l()}function l(){throw new Error("Invalid DFXP file")}function d(t,e,r){t.xhr=Object(a.a)(t.file,function(a){!function(t,e,r,a){var d=t.responseXML?t.responseXML.firstChild:null,h=void 0,T=void 0;if(d)for("xml"===Object(s.b)(d)&&(d=d.nextSibling);d.nodeType===d.COMMENT_NODE;)d=d.nextSibling;try{if(d&&"tt"===Object(s.b)(d))h=function(t){c(t);var e=[],n=t.getElementsByTagName("p"),r=30,i=t.getElementsByTagName("tt");if(i&&i[0]){var a=parseFloat(i[0].getAttribute("ttp:frameRate"));isNaN(a)||(r=a)}c(n),n.length||(n=t.getElementsByTagName("tt:p")).length||(n=t.getElementsByTagName("tts:p"));for(var s=0;s<n.length;s++){for(var u=n[s],d=u.getElementsByTagName("br"),h=0;h<d.length;h++){var f=d[h];f.parentNode.replaceChild(t.createTextNode("\r\n"),f)}var T=u.innerHTML||u.textContent||u.text||"",v=Object(o.h)(T).replace(/>\s+</g,"><").replace(/(<\/?)tts?:/g,"$1").replace(/<br.*?\/>/g,"\r\n");if(v){var g=u.getAttribute("begin"),k=u.getAttribute("dur"),m=u.getAttribute("end"),b={begin:Object(o.f)(g,r),text:v};m?b.end=Object(o.f)(m,r):k&&(b.end=b.begin+Object(o.f)(k,r)),e.push(b)}}return e.length||l(),e}(t.responseXML),T=f(h),delete e.xhr,r(T);else{var v=t.responseText;v.indexOf("WEBVTT")>=0?n.e(15).then(function(t){return n(123).default}.bind(null,n)).catch(Object(i.b)(131)).then(function(t){var n=new t(window);T=[],n.oncue=function(t){T.push(t)},n.onflush=function(){delete e.xhr,r(T)},n.parse(v)}).catch(function(t){delete e.xhr,a(t)}):(h=Object(u.a)(v),T=f(h),delete e.xhr,r(T))}}catch(t){delete e.xhr,a(t)}}(a,t,e,r)},r)}function h(t){t&&t.forEach(function(t){var e=t.xhr;e&&(e.onload=null,e.onreadystatechange=null,e.onerror=null,"abort"in e&&e.abort()),delete t.xhr})}function f(t){return t.map(function(t){return new r.a(t.begin,t.end,t.text)})}n.d(e,"c",function(){return d}),n.d(e,"a",function(){return h}),n.d(e,"b",function(){return f})},62:function(t,e,n){"use strict";function r(t,e){var n=t.kind||"cc";return t.default||t.defaulttrack?"default":t._id||t.file||n+e}function i(t,e){var n=t.label||t.name||t.language;return n||(n="Unknown CC",(e+=1)>1&&(n+=" ["+e+"]")),{label:n,unknownCount:e}}n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i})},67:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"b",function(){return a}),n.d(e,"a",function(){return s});var r={TIT2:"title",TT2:"title",WXXX:"url",TPE1:"artist",TP1:"artist",TALB:"album",TAL:"album"};function i(t,e){for(var n=t.length,r=void 0,i=void 0,a=void 0,s="",u=e||0;u<n;)if(0!==(r=t[u++])&&3!==r)switch(r>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:s+=String.fromCharCode(r);break;case 12:case 13:i=t[u++],s+=String.fromCharCode((31&r)<<6|63&i);break;case 14:i=t[u++],a=t[u++],s+=String.fromCharCode((15&r)<<12|(63&i)<<6|(63&a)<<0)}return s}function a(t){var e=function(t){for(var e="0x",n=0;n<t.length;n++)t[n]<16&&(e+="0"),e+=t[n].toString(16);return parseInt(e)}(t);return 127&e|(32512&e)>>1|(8323072&e)>>2|(2130706432&e)>>3}function s(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(t,e){if(!("value"in e)&&"data"in e&&e.data instanceof ArrayBuffer){var n=new Uint8Array(e.data),s=n.length;e={value:{key:"",data:""}};for(var u=10;u<14&&u<n.length&&0!==n[u];)e.value.key+=String.fromCharCode(n[u]),u++;var o=19,c=n[o];3!==c&&0!==c||(c=n[++o],s--);var l=0;if(1!==c&&2!==c)for(var d=o+1;d<s;d++)if(0===n[d]){l=d-o;break}if(l>0){var h=i(n.subarray(o,o+=l),0);if("PRIV"===e.value.key){if("com.apple.streaming.transportStreamTimestamp"===h){var f=1&a(n.subarray(o,o+=4)),T=a(n.subarray(o,o+=4))+(f?4294967296:0);e.value.data=T}else e.value.data=i(n,o+1);e.value.info=h}else e.value.info=h,e.value.data=i(n,o+1)}else{var v=n[o];e.value.data=1===v||2===v?function(t,e){for(var n=t.length-1,r="",i=e||0;i<n;)254===t[i]&&255===t[i+1]||(r+=String.fromCharCode((t[i]<<8)+t[i+1])),i+=2;return r}(n,o+1):i(n,o+1)}}if(r.hasOwnProperty(e.value.key)&&(t[r[e.value.key]]=e.value.data),e.value.info){var g=t[e.value.key];g!==Object(g)&&(g={},t[e.value.key]=g),g[e.value.info]=e.value.data}else t[e.value.key]=e.value.data;return t},{})}},71:function(t,e,n){"use strict";var r=n(60),i=n(62),a=n(67),s=n(7),u=n(3),o=n(0),c={_itemTracks:null,_textTracks:null,_tracksById:null,_cuesByTrackId:null,_cachedVTTCues:null,_metaCuesByTextTime:null,_currentTextTrackIndex:-1,_unknownCount:0,_activeCuePosition:null,_initTextTracks:function(){this._textTracks=[],this._tracksById={},this._metaCuesByTextTime={},this._cuesByTrackId={},this._cachedVTTCues={},this._unknownCount=0},addTracksListener:function(t,e,n){if(!t)return;if(l(t,e,n),this.instreamMode)return;t.addEventListener?t.addEventListener(e,n):t["on"+e]=n},clearTracks:function(){Object(r.a)(this._itemTracks);var t=this._tracksById&&this._tracksById.nativemetadata;(this.renderNatively||t)&&(f(this.renderNatively,this.video.textTracks),t&&(t.oncuechange=null));this._itemTracks=null,this._textTracks=null,this._tracksById=null,this._cuesByTrackId=null,this._metaCuesByTextTime=null,this._unknownCount=0,this._currentTextTrackIndex=-1,this._activeCuePosition=null,this.renderNatively&&(this.removeTracksListener(this.video.textTracks,"change",this.textTrackChangeHandler),f(this.renderNatively,this.video.textTracks))},clearCueData:function(t){var e=this._cachedVTTCues;e&&e[t]&&(e[t]={},this._tracksById&&(this._tracksById[t].data=[]))},disableTextTrack:function(){if(this._textTracks){var t=this._textTracks[this._currentTextTrackIndex];if(t){t.mode="disabled";var e=t._id;e&&0===e.indexOf("nativecaptions")&&(t.mode="hidden")}}},enableTextTrack:function(){if(this._textTracks){var t=this._textTracks[this._currentTextTrackIndex];t&&(t.mode="showing")}},getSubtitlesTrack:function(){return this._currentTextTrackIndex},removeTracksListener:l,addTextTracks:d,setTextTracks:function(t){if(this._currentTextTrackIndex=-1,!t)return;this._textTracks?(this._unknownCount=0,this._textTracks=this._textTracks.filter(function(t){var e=t._id;return this.renderNatively&&e&&0===e.indexOf("nativecaptions")?(delete this._tracksById[e],!1):(t.name&&0===t.name.indexOf("Unknown")&&this._unknownCount++,!0)},this),delete this._tracksById.nativemetadata):this._initTextTracks();if(t.length)for(var e=0,n=t.length;e<n;e++){var r=t[e];if(!r._id){if("captions"===r.kind||"metadata"===r.kind){if(r._id="native"+r.kind+e,!r.label&&"captions"===r.kind){var a=Object(i.b)(r,this._unknownCount);r.name=a.label,this._unknownCount=a.unknownCount}}else r._id=Object(i.a)(r,this._textTracks.length);if(this._tracksById[r._id])continue;r.inuse=!0}if(r.inuse&&!this._tracksById[r._id])if("metadata"===r.kind)r.mode="hidden",r.oncuechange=k.bind(this),this._tracksById[r._id]=r;else if(T(r.kind)){var u=r.mode,c=void 0;if(r.mode="hidden",!r.cues.length&&r.embedded)continue;if(r.mode=u,this._cuesByTrackId[r._id]&&!this._cuesByTrackId[r._id].loaded){for(var l=this._cuesByTrackId[r._id].cues;c=l.shift();)h(this.renderNatively,r,c);r.mode=u,this._cuesByTrackId[r._id].loaded=!0}g.call(this,r)}}this.renderNatively&&(this.textTrackChangeHandler=this.textTrackChangeHandler||function(){var t=this.video.textTracks,e=Object(o.k)(t,function(t){return(t.inuse||!t._id)&&T(t.kind)});if(!this._textTracks||function(t){if(t.length>this._textTracks.length)return!0;for(var e=0;e<t.length;e++){var n=t[e];if(!n._id||!this._tracksById[n._id])return!0}return!1}.call(this,e))return void this.setTextTracks(t);for(var n=-1,r=0;r<this._textTracks.length;r++)if("showing"===this._textTracks[r].mode){n=r;break}n!==this._currentTextTrackIndex&&this.setSubtitlesTrack(n+1)}.bind(this),this.addTracksListener(this.video.textTracks,"change",this.textTrackChangeHandler),(s.Browser.edge||s.Browser.firefox||s.Browser.safari)&&(this.addTrackHandler=this.addTrackHandler||function(){this.setTextTracks(this.video.textTracks)}.bind(this),this.addTracksListener(this.video.textTracks,"addtrack",this.addTrackHandler)));this._textTracks.length&&this.trigger("subtitlesTracks",{tracks:this._textTracks})},setupSideloadedTracks:function(t){if(!this.renderNatively)return;var e=t===this._itemTracks;e||Object(r.a)(this._itemTracks);if(this._itemTracks=t,!t)return;e||(this.disableTextTrack(),function(){if(!this._textTracks)return;var t=this._textTracks.filter(function(t){return t.embedded||"subs"===t.groupid});this._initTextTracks(),t.forEach(function(t){this._tracksById[t._id]=t}),this._textTracks=t}.call(this),this.addTextTracks(t))},setSubtitlesTrack:function(t){if(!this.renderNatively)return void(this.setCurrentSubtitleTrack&&this.setCurrentSubtitleTrack(t-1));if(!this._textTracks)return;0===t&&this._textTracks.forEach(function(t){t.mode=t.embedded?"hidden":"disabled"});if(this._currentTextTrackIndex===t-1)return;this.disableTextTrack(),this._currentTextTrackIndex=t-1,this._textTracks[this._currentTextTrackIndex]&&(this._textTracks[this._currentTextTrackIndex].mode="showing");this.trigger("subtitlesTrackChanged",{currentTrack:this._currentTextTrackIndex+1,tracks:this._textTracks})},textTrackChangeHandler:null,addTrackHandler:null,addCuesToTrack:function(t){var e=this._tracksById[t.name];if(!e)return;e.source=t.source;for(var n=t.captions||[],i=[],a=!1,s=0;s<n.length;s++){var u=n[s],o=t.name+"_"+u.begin+"_"+u.end;this._metaCuesByTextTime[o]||(this._metaCuesByTextTime[o]=u,i.push(u),a=!0)}a&&i.sort(function(t,e){return t.begin-e.begin});var c=Object(r.b)(i);Array.prototype.push.apply(e.data,c)},addCaptionsCue:function(t){if(!t.text||!t.begin||!t.end)return;var e=t.trackid.toString(),n=this._tracksById&&this._tracksById[e];n||(n={kind:"captions",_id:e,data:[]},this.addTextTracks([n]),this.trigger("subtitlesTracks",{tracks:this._textTracks}));var i=void 0;t.useDTS&&(n.source||(n.source=t.source||"mpegts"));i=t.begin+"_"+t.text;var a=this._metaCuesByTextTime[i];if(!a){a={begin:t.begin,end:t.end,text:t.text},this._metaCuesByTextTime[i]=a;var s=Object(r.b)([a])[0];n.data.push(s)}},addVTTCue:function(t){this._tracksById||this._initTextTracks();var e=t.track?t.track:"native"+t.type,n=this._tracksById[e],r="captions"===t.type?"Unknown CC":"ID3 Metadata",i=t.cue;if(!n){var a={kind:t.type,_id:e,label:r,embedded:!0};n=v.call(this,a),this.renderNatively||"metadata"===n.kind?this.setTextTracks(this.video.textTracks):d.call(this,[n])}(function(t,e){var n=t.kind;this._cachedVTTCues[t._id]||(this._cachedVTTCues[t._id]={});var r=this._cachedVTTCues[t._id],i=void 0;switch(n){case"captions":case"subtitles":i=Math.floor(20*e.startTime);var a="_"+e.line,s=Math.floor(20*e.endTime),u=r[i+a]||r[i+1+a]||r[i-1+a];return!(u&&Math.abs(u-s)<=1)&&(r[i+a]=s,!0);case"metadata":var o=e.data?new Uint8Array(e.data).join(""):e.text;return i=e.startTime+o,r[i]?!1:(r[i]=e.endTime,!0);default:return!1}}).call(this,n,i)&&(this.renderNatively||"metadata"===n.kind?h(this.renderNatively,n,i):n.data.push(i))},addVTTCuesToTrack:function(t,e){if(!this.renderNatively)return;var n=this._tracksById[t._id];if(!n)return this._cuesByTrackId||(this._cuesByTrackId={}),void(this._cuesByTrackId[t._id]={cues:e,loaded:!1});if(this._cuesByTrackId[t._id]&&this._cuesByTrackId[t._id].loaded)return;var r=void 0;this._cuesByTrackId[t._id]={cues:e,loaded:!0};for(;r=e.shift();)h(this.renderNatively,n,r)},renderNatively:!1};function l(t,e,n){t&&(t.removeEventListener?t.removeEventListener(e,n):t["on"+e]=null)}function d(t){var e=this;t&&(this._textTracks||this._initTextTracks(),t.forEach(function(t){if(!t.kind||T(t.kind)){var n=v.call(e,t);g.call(e,n),t.file&&(t.data=[],Object(r.c)(t,function(t){e.addVTTCuesToTrack(n,t)},function(t){e.trigger(u.w,{message:"Captions failed to load",reason:t})}))}}),this._textTracks&&this._textTracks.length&&this.trigger("subtitlesTracks",{tracks:this._textTracks}))}function h(t,e,n){if(s.Browser.ie&&t&&window.TextTrackCue){var r=new window.TextTrackCue(n.startTime,n.endTime,n.text);e.addCue(r)}else e.addCue(n)}function f(t,e){e&&e.length&&Object(o.i)(e,function(e){if(!(s.Browser.ie&&t&&/^(native|subtitle|cc)/.test(e._id))){e.mode="disabled",e.mode="hidden";for(var n=e.cues.length;n--;)e.removeCue(e.cues[n]);e.embedded||(e.mode="disabled"),e.inuse=!1}})}function T(t){return"subtitles"===t||"captions"===t}function v(t){var e=void 0,n=Object(i.b)(t,this._unknownCount),r=n.label;if(this._unknownCount=n.unknownCount,this.renderNatively||"metadata"===t.kind){var a=this.video.textTracks;(e=Object(o.m)(a,{label:r}))||(e=this.video.addTextTrack(t.kind,r,t.language||"")),e.default=t.default,e.mode="disabled",e.inuse=!0}else(e=t).data=e.data||[];return e._id||(e._id=Object(i.a)(t,this._textTracks.length)),e}function g(t){this._textTracks.push(t),this._tracksById[t._id]=t}function k(t){var e=t.currentTarget.activeCues;if(e&&e.length){var n=e[e.length-1].startTime;if(this._activeCuePosition!==n){var r=[];if(Object(o.i)(e,function(t){t.startTime<n||(t.data||t.value?r.push(t):t.text&&this.trigger("meta",{metadataTime:n,metadata:JSON.parse(t.text)}))},this),r.length){var i=Object(a.a)(r);this.trigger("meta",{metadataTime:n,metadata:i})}this._activeCuePosition=n}}}e.a=c},74:function(t,e,n){"use strict";function r(t){return{bitrate:t.bitrate,label:t.label,width:t.width,height:t.height}}n.d(e,"a",function(){return r})}}]);